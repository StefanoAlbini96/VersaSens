/*
                              *******************
******************************* C SOURCE FILE *******************************
**                            *******************                          **
**                                                                         **
** project  : VersaSens                                                    **
** filename : start_app_api.c                                              **
** version  : 1                                                            **
** date     : 20/11/2024                                                   **
**                                                                         **
*****************************************************************************
**                                                                         **
** Copyright (c) EPFL                                                      **
** All rights reserved.                                                    **
**                                                                         **
*****************************************************************************
	 
VERSION HISTORY:
----------------
Version     : 1
Date        : 20/11/2024
Revised by  : Stefano Albini
Description : Original version.


*/

/***************************************************************************/
/***************************************************************************/

/**
* @file   start_app_api.c
* @date   20/11/2024
* @brief  This is the main source of start_app_api.c
*
*/

#define _START_APP_API_C_SRC

/****************************************************************************/
/**                                                                        **/
/*                             MODULES USED                                 */
/**                                                                        **/
/****************************************************************************/

#include <zephyr/kernel.h>

#include <zephyr/logging/log.h>



LOG_MODULE_REGISTER(start_app_api, LOG_LEVEL_INF);
K_THREAD_STACK_DEFINE(user_app_thread_stack, USER_APP_STACK_SIZE);

/****************************************************************************/
/**                                                                        **/
/*                        DEFINITIONS AND MACROS                            */
/**                                                                        **/
/****************************************************************************/

struct k_thread user_app_thread;

/****************************************************************************/
/**                                                                        **/
/*                        TYPEDEFS AND STRUCTURES                           */
/**                                                                        **/
/****************************************************************************/

/****************************************************************************/
/**                                                                        **/
/*                      PROTOTYPES OF LOCAL FUNCTIONS                       */
/**                                                                        **/
/****************************************************************************/

/****************************************************************************/
/**                                                                        **/
/*                           EXPORTED VARIABLES                             */
/**                                                                        **/
/****************************************************************************/

/****************************************************************************/
/**                                                                        **/
/*                            GLOBAL VARIABLES                              */
/**                                                                        **/
/****************************************************************************/

/****************************************************************************/
/**                                                                        **/
/*                           EXPORTED FUNCTIONS                             */
/**                                                                        **/
/****************************************************************************/

void init_user_app_thread(k_thread_entry_t user_app_function, int priority){
    k_tid_t LED_thread_id = k_thread_create(&user_app_thread, user_app_thread_stack, K_THREAD_STACK_SIZEOF(user_app_thread_stack),
                                        user_app_function, NULL, NULL, NULL, 11, 0, K_NO_WAIT);

    LOG_INF("User Application thread started\n");
}

/****************************************************************************/
/**                                                                        **/
/*                            LOCAL FUNCTIONS                               */
/**                                                                        **/
/****************************************************************************/

/****************************************************************************/
/**                                                                        **/
/*                                 EOF                                      */
/**                                                                        **/
/****************************************************************************/